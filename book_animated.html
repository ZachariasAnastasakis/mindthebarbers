<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - Mind The Barbers</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <!-- AOS library for scroll animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <!-- Flatpickr for date/time selection -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.2/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.22.2/firebase-auth-compat.min.js"></script> -->
    <script type="module" src="auth_stuff.js"></script>
    
    <style>
    :root {
        --primary: #2b2b2b;
        --secondary: #d4af37; /* Gold color */
        --accent: #c72c2c; /* Red accent */
        --light: #f5f5f5;
        --dark: #1a1a1a;
        --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Poppins', sans-serif;
        background-color: var(--light);
        color: var(--primary);
        line-height: 1.6;
        overflow-x: hidden;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        position: relative;
    }

    /* Animated background particles */
    .bg-animation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        opacity: 0.03;
        background: linear-gradient(to bottom right,
            var(--secondary) 0%, transparent 70%),
            linear-gradient(to top left, var(--accent) 0%, transparent 70%);
        pointer-events: none;
    }

    /* Animated scissors */
    .scissors {
        position: absolute;
        color: var(--secondary);
        opacity: 0.1;
        z-index: 0;
        animation: floatScissors 20s infinite linear;
    }

    @keyframes floatScissors {
        0% {
            transform: translateY(0) rotate(0deg);
        }
        50% {
            transform: translateY(-50px) rotate(180deg);
        }
        100% {
            transform: translateY(0) rotate(360deg);
        }
    }

    /* Header with animation */
    header {
        background-color: var(--dark);
        color: var(--light);
        padding: 7px 0;
        position: fixed;
        width: 100%;
        top: 0;
        left: 0;
        z-index: 1000;
        transition: var(--transition);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    header.scrolled {
        padding: 15px 0;
        background-color: rgba(26, 26, 26, 0.95);
        backdrop-filter: blur(10px);
    }

    nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .logo {
        font-size: 28px;
        font-weight: 700;
        color: var(--light);
        display: flex;
        align-items: center;
        text-decoration: none;
    }

    .logo img {
    width: 100px;
    height: 100px;
    color: var(--secondary);
    margin-right: 10px;
    transition: var(--transition);
    }

    .logo:hover img {
    transform: rotate(360deg);
    }

    .logo i {
        color: var(--secondary);
        margin-right: 10px;
        transition: var(--transition);
    }

    .logo:hover i {
        transform: rotate(180deg);
    }

    .nav-links {
        display: flex;
        list-style: none;
    }

    .nav-links li {
        margin-left: 30px;
        position: relative;
    }

    .nav-links a {
        color: var(--light);
        text-decoration: none;
        font-weight: 500;
        transition: var(--transition);
        padding: 5px 0;
        position: relative;
    }

    .nav-links a::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: 0;
        left: 0;
        background-color: var(--secondary);
        transition: var(--transition);
    }

    .nav-links a:hover {
        color: var(--secondary);
    }

    .nav-links a:hover::after {
        width: 100%;
    }

    .mobile-toggle {
        display: none;
        background: none;
        border: none;
        outline: none;
        cursor: pointer;
        z-index: 1000;
    }

    .hamburger {
        width: 30px;
        height: 20px;
        position: relative;
        transform: rotate(0deg);
        transition: .5s ease-in-out;
    }

    .hamburger span {
        display: block;
        position: absolute;
        height: 3px;
        width: 100%;
        background: var(--secondary);
        border-radius: 3px;
        opacity: 1;
        left: 0;
        transform: rotate(0deg);
        transition: .25s ease-in-out;
    }

    .hamburger span:nth-child(1) {
        top: 0px;
    }

    .hamburger span:nth-child(2), .hamburger span:nth-child(3) {
        top: 10px;
    }

    .hamburger span:nth-child(4) {
        top: 20px;
    }

    .hamburger.open span:nth-child(1) {
        top: 10px;
        width: 0%;
        left: 50%;
    }

    .hamburger.open span:nth-child(2) {
        transform: rotate(45deg);
    }

    .hamburger.open span:nth-child(3) {
        transform: rotate(-45deg);
    }

    .hamburger.open span:nth-child(4) {
        top: 10px;
        width: 0%;
        left: 50%;
    }

    .mobile-menu {
        position: fixed;
        top: 0;
        right: -100%;
        width: 300px;
        height: 100vh;
        background: var(--dark);
        z-index: 999;
        padding-top: 80px;
        transition: right 0.4s cubic-bezier(0.77, 0.2, 0.05, 1.0);
        box-shadow: -10px 0 30px rgba(0, 0, 0, 0.1);
        overflow-y: auto;
    }

    .mobile-menu.open {
        right: 0;
    }

    .mobile-menu-links {
        list-style: none;
        padding-top: 40px;
        margin: 0;
    }

    .mobile-menu-links li {
        opacity: 0;
        transform: translateX(30px);
        transition: all 0.3s ease;
    }

    .mobile-menu.open .mobile-menu-links li {
        opacity: 1;
        transform: translateX(0);
    }

    .mobile-menu.open .mobile-menu-links li:nth-child(1) { transition-delay: 0.1s; }
    .mobile-menu.open .mobile-menu-links li:nth-child(2) { transition-delay: 0.2s; }
    .mobile-menu.open .mobile-menu-links li:nth-child(3) { transition-delay: 0.3s; }
    .mobile-menu.open .mobile-menu-links li:nth-child(4) { transition-delay: 0.4s; }
    .mobile-menu.open .mobile-menu-links li:nth-child(5) { transition-delay: 0.5s; }

    .mobile-menu-links a {
        display: block;
        padding: 15px 30px;
        color: var(--light);
        font-size: 18px;
        text-decoration: none;
        font-weight: 500;
        border-left: 3px solid transparent;
        transition: all 0.3s;
    }

    .mobile-menu-links a:hover, .mobile-menu-links a:active {
        background: rgba(184, 134, 11, 0.1);
        color: var(--secondary);
        border-left: 3px solid var(--secondary);
    }

    .mobile-menu-social {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 40px;
        padding: 0 30px;
    }

    .mobile-menu-social a {
        color: var(--light);
        font-size: 20px;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: all 0.3s;
    }

    .mobile-menu-social a:hover {
        background: var(--secondary);
        color: var(--dark);
        transform: translateY(-5px);
    }

    .mobile-menu-footer {
        text-align: center;
        padding: 30px;
        font-size: 14px;
        color: rgba(255, 255, 255, 0.5);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 40px;
    }

    /* header {
        background-color: var(--dark);
        color: var(--light);
        padding: 20px 0;
        position: relative;
    }

    nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .logo {
        font-size: 28px;
        font-weight: 700;
        color: var(--light);
        display: flex;
        align-items: center;
    }

    .logo i {
        color: var(--secondary);
        margin-right: 10px;
    }

    .nav-links {
        display: flex;
        list-style: none;
    }

    .nav-links li {
        margin-left: 30px;
    }

    .nav-links a {
        color: var(--light);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s;
    }

    .nav-links a:hover {
        color: var(--secondary);
    } */

    /* .hero {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('assets/img2.webp');
        background-size: cover;
        background-position: center;
        height: 300px;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: white;
    }

    .hero-content h1 {
        font-size: 48px;
        margin-bottom: 20px;
        text-transform: uppercase;
    }

    .hero-content p {
        font-size: 20px;
        max-width: 800px;
        margin: 0 auto;
    } */

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(3px);
        z-index: 998;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s;
    }

    .overlay.active {
        opacity: 1;
        visibility: visible;
    }

    /* Scissors animation for mobile menu */
    .scissors-icon {
        position: absolute;
        top: 30px;
        left: 30px;
        font-size: 30px;
        color: var(--secondary);
        animation: snip 4s infinite;
    }

    @keyframes snip {
        0% { transform: rotate(0deg) scale(1); }
        10% { transform: rotate(10deg) scale(1.2); }
        20% { transform: rotate(-5deg) scale(1.2); }
        30% { transform: rotate(0deg) scale(1); }
        100% { transform: rotate(0deg) scale(1); }
    }

    /* Hero section with better animation */
    .hero {
        background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
            url('https://images.unsplash.com/photo-1503951914875-452162b0f3f1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1770&q=80');
        background-size: cover;
        background-position: center;
        height: 40vh;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        color: white;
        position: relative;
        margin-top: 80px; /* Account for fixed header */
        overflow: hidden;
    }

    .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.3);
    }

    .hero-content {
        position: relative;
        z-index: 1;
        max-width: 800px;
        padding: 0 20px;
    }

    .hero-content h1 {
        font-size: 3.5rem;
        margin-bottom: 20px;
        text-transform: uppercase;
        position: relative;
        display: inline-block;
        animation: fadeIn 1s ease-out;
    }

    .hero-content h1::after {
        content: '';
        position: absolute;
        width: 80px;
        height: 3px;
        background-color: var(--secondary);
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
    }

    .hero-content p {
        font-size: 1.25rem;
        animation: fadeIn 1s ease-out 0.5s both;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    section {
        padding: 60px 0;
    }

    .section-title {
        text-align: center;
        margin-bottom: 40px;
        position: relative;
    }

    .section-title h2 {
        font-size: 36px;
        text-transform: uppercase;
        color: var(--primary);
    }

    .section-title:after {
        content: '';
        position: absolute;
        width: 80px;
        height: 3px;
        background-color: var(--secondary);
        bottom: -15px;
        left: 50%;
        transform: translateX(-50%);
    }

    footer {
        background-color: var(--dark);
        color: var(--light);
        padding: 40px 0;
        text-align: center;
    }

    .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .footer-logo {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
    }

    .footer-logo i {
        color: var(--secondary);
        margin-right: 10px;
    }

    .footer-links {
        display: flex;
        list-style: none;
        margin: 20px 0;
    }

    .footer-links li {
        margin: 0 15px;
    }

    .footer-links a {
        color: var(--light);
        text-decoration: none;
        transition: color 0.3s;
    }

    .footer-links a:hover {
        color: var(--secondary);
    }

    .social-links {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
    }

    .social-links a {
        color: var(--light);
        font-size: 24px;
        transition: color 0.3s;
    }

    .social-links a:hover {
        color: var(--secondary);
    }

    .copyright {
        font-size: 14px;
        color: #999;
    }

    /* Booking specific styles */
    .booking-container {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        padding: 40px;
        max-width: 900px;
        margin: 0 auto;
    }

    .booking-steps {
        display: flex;
        justify-content: space-between;
        margin-bottom: 40px;
        position: relative;
    }

    .booking-steps:after {
        content: '';
        position: absolute;
        height: 2px;
        background-color: #ddd;
        top: 25px;
        left: 0;
        right: 0;
        z-index: 1;
    }

    .step {
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        z-index: 2;
    }

    .step-number {
        width: 50px;
        height: 50px;
        background-color: #ddd;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        margin-bottom: 10px;
        background-color: var(--light);
        border: 2px solid #ddd;
    }

    .step.active .step-number {
        background-color: var(--secondary);
        color: white;
        border-color: var(--secondary);
    }

    .step.completed .step-number {
        background-color: var(--secondary);
        color: white;
        border-color: var(--secondary);
    }

    .step-label {
        font-weight: 500;
        color: #777;
    }

    .step.active .step-label {
        color: var(--primary);
        font-weight: 600;
    }

    .booking-content {
        min-height: 400px;
    }

    .booking-section {
        display: none;
    }

    .booking-section.active {
        display: block;
    }

    .barbers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
    }

    .barber-card {
        border: 2px solid #ddd;
        border-radius: 10px;
        overflow: hidden;
        cursor: pointer;
        transition: all 0.3s;
    }

    .barber-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .barber-card.selected {
        border-color: var(--secondary);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .barber-image {
        height: 200px;
        overflow: hidden;
    }

    .barber-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .barber-info {
        padding: 15px;
        text-align: center;
    }

    .barber-info h3 {
        margin-bottom: 5px;
        font-size: 18px;
    }

    .barber-info p {
        color: #777;
        font-size: 14px;
    }

    /* Calendar styles */
    .calendar-container {
        margin-bottom: 30px;
    }

    .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .month-year {
        font-size: 20px;
        font-weight: bold;
    }
    
    .nav-button {
        background: var(--secondary);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s;
    }
    
    .nav-button:hover {
        background: #a67609;
    }
    
    .calendar {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 10px;
    }
    
    .day-name {
        text-align: center;
        font-weight: bold;
        padding: 10px;
        background: var(--gray);
        border-radius: 5px;
    }
    
    .day {
        height: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
        border: 1px solid var(--gray);
    }
    
    .day:hover {
        background-color: #f0f0f0;
    }
    
    .day.selected {
        background-color: var(--secondary);
        color: white;
        font-weight: bold;
    }
    
    .day.inactive {
        color: var(--dark-gray);
        background-color: #f5f5f5;
        cursor: not-allowed;
        animation: deleted-animation 0.5s forwards;
    }

    @keyframes deleted-animation {
    0% {
        background-color: white;
        color: inherit;
        text-decoration: none;
    }
    30% {
        background-color: rgba(255, 0, 0, 0.2);
    }
    100% {
        background-color: rgba(240, 240, 240, 0.7);
        color: #777;
        text-decoration: line-through;
    }
    }

    .services-list {
        margin-bottom: 30px;
    }

    .service-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-bottom: 10px;
        cursor: pointer;
        transition: all 0.3s;
    }

    .service-item:hover {
        background-color: #f9f9f9;
    }

    .service-item.selected {
        border-color: var(--secondary);
        background-color: rgba(184, 134, 11, 0.1);
    }

    .service-info h3 {
        margin-bottom: 5px;
        font-size: 18px;
    }

    .service-info p {
        color: #777;
        font-size: 14px;
    }

    .service-price {
        font-weight: bold;
        font-size: 18px;
        color: var(--secondary);
    }

    .time-slots {
        margin-top: 30px;
    }
    
    .time-slots h3 {
        margin-top: 0;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--gray);
    }
    
    .slots-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
        gap: 10px;
        margin-top: 20px;
        margin-bottom: 30px;
    }
    
    .time-slot {
        padding: 10px;
        text-align: center;
        border: 1px solid #ddd;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .time-slot:hover {
        background-color: #f9f9f9;
    }
    
    .time-slot.selected {
        border-color: var(--secondary);
        background-color: rgba(184, 134, 11, 0.1);
    }
    
    .time-slot.booked {
        background-color: #f5f5f5;
        color: var(--dark-gray);
        cursor: not-allowed;
        text-decoration: line-through;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
    }

    .form-group input, .form-group textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 16px;
    }

    .booking-summary {
        background-color: #f9f9f9;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 30px;
    }

    .summary-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid #ddd;
    }

    .summary-item:last-child {
        border-bottom: none;
    }

    .summary-label {
        font-weight: 500;
    }

    .summary-value {
        font-weight: 600;
    }

    .total-price {
        font-size: 20px;
        color: var(--secondary);
    }

    .btn {
        display: inline-block;
        padding: 12px 25px;
        background-color: var(--secondary);
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s;
    }

    .btn:hover {
        background-color: #a67609;
    }

    .btn-outline {
        background-color: transparent;
        border: 2px solid var(--secondary);
        color: var(--secondary);
    }

    .btn-outline:hover {
        background-color: var(--secondary);
        color: white;
    }

    .btn-group {
        display: flex;
        justify-content: space-between;
        margin-top: 30px;
    }

    .success-message {
        text-align: center;
        padding: 40px 0;
    }

    .error-message {
        text-align: center;
        padding: 40px 0;
    }

    .success-icon {
        font-size: 80px;
        color: green;
        margin-bottom: 20px;
    }

    .error-icon {
        font-size: 80px;
        color: rgb(223, 14, 7);
        margin-bottom: 20px;
    }

    .img_logo {
        width: 100px;
        height: 100px;
        background-color: white;
        border-radius: 20px;
        padding: 5px;
        margin-right: 10px;
    }

    .img_logo_footer {
        width: 70px;
        height: 70px;
        background-color: white;
        border-radius: 20px;
        padding: 5px;
        margin-right: 10px;
    }

    @media (max-width: 768px) {
        .booking-steps {
            flex-direction: column;
            align-items: flex-start;
            gap: 20px;
        }

        .booking-steps:after {
            display: none;
        }

        .step {
            flex-direction: row;
            gap: 15px;
        }

        .barbers-grid {
            grid-template-columns: 1fr;
        }

        .nav-links {
            display: none;
        }

        .hero-content h1 {
            font-size: 36px;
        }

        .hero-content p {
            font-size: 16px;
        }
        
        .calendar {
            gap: 5px;
        }
        
        .day {
            height: 40px;
        }
        
        .slots-grid {
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        }
    }

    @media (max-width: 768px) {
        .mobile-toggle {
            display: block;
            z-index: 1001;
        }

        .hero-content h1 {
            font-size: 2.5rem;
        }

        .hero {
            height: 40vh;
        }
    }

    @media (max-width: 480px) {
        .hero-content h1 {
            font-size: 2rem;
        }

        .hero-content p {
            font-size: 1rem;
        }
    }

    .social-links a,
    .social-icons a,
    .mobile-menu-social a,
    .footer-links a {
    text-decoration: none;
    }

    /* Special styling for the Book button in header */
    .nav-links li:last-child a {
    background-color: var(--secondary);
    color: var(--dark);
    padding: 8px 20px;
    border-radius: 50px;
    position: relative;
    font-weight: 600;
    transition: all 0.4s ease;
    border: 2px solid var(--dark);
    transform-style: preserve-3d;
    text-shadow: 0 0.5px 1px rgba(0, 0, 0, 0.2);
    }

    /* Remove the default underline effect */
    .nav-links li:last-child a::after {
    display: none;
    }

    /* Enhanced pulse animation */
    @keyframes enhanced-pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.8), 
                    inset 0 0 0 0.5px rgba(0, 0, 0, 0.1);
        transform: scale(1);
    }
    50% {
        box-shadow: 0 0 0 10px rgba(212, 175, 55, 0),
                    inset 0 0 0 1px rgba(0, 0, 0, 0.2);
        transform: scale(1.05);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(212, 175, 55, 0),
                    inset 0 0 0 0.5px rgba(0, 0, 0, 0.1);
        transform: scale(1);
    }
    }

    /* Apply the enhanced pulse animation */
    .nav-links li:last-child a {
    animation: enhanced-pulse 2s infinite;
    }

    /* Hover effect */
    .nav-links li:last-child a:hover {
    background-color: #e5c24d; /* Slightly lighter gold */
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
    animation: none; /* Stop the animation on hover */
    letter-spacing: 0.5px;
    }

    /* Active/click effect */
    .nav-links li:last-child a:active {
    transform: translateY(2px) scale(0.95);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    /* pop up window */
    .popup-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }
        
        .popup-container.active {
            opacity: 1;
            visibility: visible;
        }
        
        .popup {
            background-color: #ff3b30;
            color: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            position: relative;
            transform: scale(0.8) translateY(30px);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
                        opacity 0.3s ease;
        }
        
        .popup-container.active .popup {
            transform: scale(1) translateY(0);
            opacity: 1;
        }
        
        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .popup-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 0;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        
        .close-btn:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .popup-body {
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .popup-icon {
            font-size: 2.5rem;
            margin-right: 15px;
            animation: pulse 1.5s infinite;
        }
        a.close-btn {
        text-decoration: none;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        @media (max-width: 768px) {
    .calendar {
        grid-template-columns: repeat(7, 1fr);
        gap: 2px;
    }
    
    .day-name {
        font-size: 12px;
        padding: 5px;
    }
    
    .day {
        height: 40px;
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .calendar-container {
        overflow-x: auto;
        padding-bottom: 10px;
    }
    
    .calendar {
        min-width: 280px;
    }
    
    .day {
        height: 35px;
        min-width: 35px;
    }
    
    .calendar-header {
        flex-wrap: wrap;
    }
    
    .month-year {
        order: 1;
        width: 100%;
        text-align: center;
        margin-bottom: 10px;
    }
    
    .nav-button {
        order: 2;
        padding: 6px 12px;
        font-size: 14px;
    }
}
/* Additional styles for very small screens */
@media (max-width: 375px) {
    .calendar-container {
        margin: 0 -10px;
    }
    
    .calendar {
        min-width: 240px;
        gap: 1px;
    }
    
    .day-name {
        font-size: 10px;
        padding: 3px;
    }
    
    .day {
        height: 30px;
        min-width: 30px;
        font-size: 12px;
    }
    
    .nav-button {
        padding: 4px 8px;
        font-size: 12px;
    }
    
    .month-year {
        font-size: 16px;
    }
    
    /* Improve appointments view for small screens */
    #appointment-filter {
        font-size: 12px;
        padding: 4px 8px;
        padding-right: 20px;
    }
    
    .appointments-date {
        flex-direction: column;
        align-items: flex-start;
    }
    
    #date-text {
        margin-bottom: 10px;
        font-size: 16px;
    }
}
    </style>
</head>
<body>
    <div class="bg-animation"></div>

    <!-- Floating scissors animation -->
    <i class="fas fa-cut scissors" style="top: 20%; left: 15%; font-size: 24px;"></i>
    <i class="fas fa-cut scissors" style="top: 50%; left: 80%; font-size: 32px;"></i>
    <i class="fas fa-cut scissors" style="top: 80%; left: 30%; font-size: 20px;"></i>
    <i class="fas fa-cut scissors" style="top: 30%; left: 60%; font-size: 28px;"></i>

    <!-- Header -->
    <header id="header">
        <div class="container">
            <nav>
                <a href="/" class="logo">
                    <!-- <i class="fas fa-cut"></i> Mind The Barbers -->
                    <img src="assets/new_logo.png" alt="logo"> Mind The Barbers
                </a>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about_us_animated.html">About</a></li>
                    <li><a href="/contact_us_animated.html">Contact</a></li>
                    <li><a href="/book_animated.html">Book Now</a></li>
                </ul>
                <button class="mobile-toggle" id="mobileToggle">
                    <div class="hamburger">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </button>
            </nav>
        </div>
    </header>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <i class="fas fa-cut scissors-icon"></i>
        <ul class="mobile-menu-links">
            <li><a href="/"><i class="fas fa-home"></i> Home</a></li>
            <!-- <li><a href="#"><i class="fas fa-list-ul"></i> Services</a></li> -->
            <li><a href="/about_us_animated.html"><i class="fas fa-info-circle"></i> About</a></li>
            <!-- <li><a href="#"><i class="fas fa-images"></i> Gallery</a></li> -->
            <li><a href="/contact_us_animated.html"><i class="fas fa-phone-alt"></i> Contact</a></li>
            <li><a href="/book_animated.html"><i class="fas fa-calendar-check"></i> Book Now</a></li>
        </ul>
        <div class="mobile-menu-social">
            <a href="https://www.facebook.com/people/Mind-The-Barbers/100070150066840/"><i class="fab fa-facebook"></i></a>
            <a href="https://www.instagram.com/mind_the_barbers?igsh=MW91N25odnU3ZDlwaA=="><i class="fab fa-instagram"></i></a>
        </div>
        <div class="mobile-menu-footer">
            © 2025 Mind The Barbers<br>Premium Grooming
        </div>
    </div>
    
    <!-- Overlay for mobile menu -->
    <div class="overlay" id="overlay"></div>

    <!-- Hero section -->
    <div class="hero">
        <div class="hero-content">
            <h1>Book Appointment</h1>
            <p>Secure your spot for a premium grooming experience</p>
        </div>
    </div>

    <div class="popup-container" id="errorPopup">
        <div class="popup">
            <div class="popup-header">
                <div style="display: flex; align-items: center;">
                    <span class="popup-icon">⚠️</span>
                    <h3 class="popup-title">Oups!!</h3>
                </div>
                <!-- <button class="close-btn" onclick="closeErrorPopup(); window.location.reload();">✕</button> -->
                <!-- <button class="close-btn" onclick="closeErrorPopup(); window.location.reload();">✕</button> -->
                <a href="/book_animated.html" class="close-btn">✕</a>
            </div>
            <div class="popup-body" id="errorMessage"></div>
        </div>
    </div>

    <section id="booking">
        <div class="container" id="container-id">
            <div class="section-title">
                <h2>Make Your Reservation</h2>
            </div>
            <div class="booking-container" id="booking-container-id">
                <div class="booking-steps">
                    <div class="step active" id="step-1">
                        <div class="step-number">1</div>
                        <div class="step-label">Choose Barber</div>
                    </div>
                    <div class="step" id="step-2">
                        <div class="step-number">2</div>
                        <div class="step-label">Select Date</div>
                    </div>
                    <div class="step" id="step-3">
                        <div class="step-number">3</div>
                        <div class="step-label">Choose Services</div>
                    </div>
                    <div class="step" id="step-4">
                        <div class="step-number">4</div>
                        <div class="step-label">Confirm Details</div>
                    </div>
                </div>

                <div class="booking-content">
                    <!-- Step 1: Choose Barber -->
                    <div class="booking-section active" id="section-1">
                        <h3>Select Your Preferred Barber</h3>
                        <p>Choose the barber you'd like for your appointment. Each of our professionals has their own unique style and specialties.</p>
                        
                        <div class="barbers-grid">
                            <div class="barber-card" data-barber="Σωτήρης">
                                <div class="barber-image">
                                    <img src="assets/swtiris.png" alt="Σωτήρης">
                                </div>
                                <div class="barber-info">
                                    <h3>Σωτήρης</h3>
                                    <p>Founder & Master Barber</p>
                                </div>
                            </div>
                            <div class="barber-card" data-barber="Σπύρος">
                                <div class="barber-image">
                                    <img src="assets/IMG_2534.JPEG" alt="Σπύρος">
                                </div>
                                <div class="barber-info">
                                    <h3>Σπύρος</h3>
                                    <p>Senior Barber</p>
                                </div>
                            </div>
                            <!-- <div class="barber-card" data-barber="michael-rodriguez">
                                <div class="barber-image">
                                    <img src="https://placehold.co/400x500" alt="Michael Rodriguez">
                                </div>
                                <div class="barber-info">
                                    <h3>Michael Rodriguez</h3>
                                    <p>Master Barber</p>
                                </div>
                            </div>
                            <div class="barber-card" data-barber="david-lee">
                                <div class="barber-image">
                                    <img src="https://placehold.co/400x500" alt="David Lee">
                                </div>
                                <div class="barber-info">
                                    <h3>David Lee</h3>
                                    <p>Barber & Stylist</p>
                                </div>
                            </div> -->
                        </div>

                        <div class="btn-group">
                            <div></div>
                            <button class="btn" id="next-1" disabled>Next Step</button>
                        </div>
                    </div>

                    <!-- Step 2: Select Date -->
                    <div class="booking-section" id="section-2">
                        <h3>Choose Your Appointment Date & Time</h3>
                        <p>Select a date and time for your appointment. Available dates are shown in the calendar below.</p>
                        
                        <div class="calendar-container">
                            <div class="calendar-header">
                                <button class="nav-button" id="prev-month">Previous</button>
                                <div class="month-year" id="month-year">March 2025</div>
                                <button class="nav-button" id="next-month">Next</button>
                            </div>
                            
                            <div class="calendar" id="calendar">
                                <!-- Days of week headers -->
                                <div class="day-name">Sun</div>
                                <div class="day-name">Mon</div>
                                <div class="day-name">Tue</div>
                                <div class="day-name">Wed</div>
                                <div class="day-name">Thu</div>
                                <div class="day-name">Fri</div>
                                <div class="day-name">Sat</div>
                                
                                <!-- Calendar days will be generated with JavaScript -->
                            </div>
                        </div>
                        
                        <div class="time-slots">
                            <h3>Available Times for <span id="selected-date">Select a date</span></h3>
                            <div class="slots-grid" id="slots-grid">
                                <!-- Time slots will be generated with JavaScript -->
                            </div>
                        </div>

                        <div class="btn-group">
                            <button class="btn btn-outline" id="prev-2">Previous Step</button>
                            <button class="btn" id="next-2" disabled>Next Step</button>
                        </div>
                    </div>

                    <!-- Step 3: Choose Services -->
                    <div class="booking-section" id="section-3">
                        <h3>Select Services</h3>
                        <p>Choose the services you'd like for your appointment.</p>
                        
                        <div class="services-list">
                            <div class="service-item" data-service="haircut" data-price="12">
                                <div class="service-info">
                                    <h3>Classic Haircut</h3>
                                    <p>Precision cut with styling</p>
                                </div>
                                <div class="service-price">12€</div>
                            </div>
                            <div class="service-item" data-service="beard-trim" data-price="6">
                                <div class="service-info">
                                    <h3>Beard Trim & Styling</h3>
                                    <p>Expert beard shaping, trimming, and styling to enhance your facial features.</p>
                                </div>
                                <div class="service-price">6€</div>
                            </div>
                            <div class="service-item" data-service="hot-towel-shave" data-price="12">
                                <div class="service-info">
                                    <h3>Hot Towel Shave</h3>
                                    <p>Traditional straight razor shave with hot towels, premium oils, and aftercare.</p>
                                </div>
                                <div class="service-price">12€</div>
                            </div>
                            <div class="service-item" data-service="haircut-beard" data-price="18">
                                <div class="service-info">
                                    <h3>Haircut & Beard Combo</h3>
                                    <p>Complete grooming package</p>
                                </div>
                                <div class="service-price">18€</div>
                            </div>
                            <div class="service-item" data-service="hair-color" data-price="10">
                                <div class="service-info">
                                    <h3>Children Haircut</h3>
                                    <p>Precision cut with styling for our little friends</p>
                                </div>
                                <div class="service-price">10€</div>
                            </div>
                        </div>

                        <div class="btn-group">
                            <button class="btn btn-outline" id="prev-3">Previous Step</button>
                            <button class="btn" id="next-3" disabled>Next Step</button>
                        </div>
                    </div>

                    <!-- Step 4: Confirm Details -->
                    <div class="booking-section" id="section-4">
                        <h3>Confirm Your Appointment</h3>
                        <p>Please review your appointment details and provide your contact information.</p>
                        
                        <div class="booking-summary">
                            <h3>Appointment Summary</h3>
                            <div class="summary-item">
                                <div class="summary-label">Barber:</div>
                                <div class="summary-value" id="summary-barber">-</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Date:</div>
                                <div class="summary-value" id="summary-date">-</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Time:</div>
                                <div class="summary-value" id="summary-time">-</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Services:</div>
                                <div class="summary-value" id="summary-services">-</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Total:</div>
                                <div class="summary-value total-price" id="summary-total">$0</div>
                            </div>
                        </div>

                        <h3>Your Information</h3>
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="notes">Special Requests (Optional)</label>
                            <textarea id="notes" rows="3"></textarea>
                        </div>

                        <div class="btn-group">
                            <button class="btn btn-outline" id="prev-4">Previous Step</button>
                            <button class="btn" id="confirm-booking">Confirm Booking</button>
                        </div>
                    </div>

                    <!-- Success Message -->
                    <div class="booking-section" id="section-success">
                        <div class="success-message">
                            <div class="success-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <h2>Booking Confirmed!</h2>
                            <p>Your appointment has been successfully scheduled.</p>
                            <p>A confirmation email has been sent to your email address.</p>
                            <p>We look forward to seeing you soon!</p>
                            <button class="btn" style="margin-top: 20px;" onclick="go_to_container_id('container-id'); window.location.reload()">Book Another Appointment</button>
                        </div>
                    </div>

                    <div class="booking-section" id="section-error">
                        <div class="error-message">
                            <div class="error-icon">
                                <i class="fas fa-exclamation-circle" style="color: #e74c3c;"></i>
                            </div>
                            <h2>Booking Failed</h2>
                            <p>We encountered an issue while processing your appointment.</p>
                            <p>Please contact our barbershop directly to complete your booking:</p>
                            <p><strong>Phone:</strong> (+30) 210 7646887</p>
                            <button class="btn" style="margin-top: 20px;" onclick="window.location.reload()">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-bg"></div>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="assets/new_logo.png" alt="logo" id="img_logo_footer" style="height: 100px; width: 100px; margin-right: 10px;"> Mind The Barbers
                </div>
                <p>Premium grooming for the modern gentleman.</p>
                <ul class="footer-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="/about_us_animated.html">About</a></li>
                    <li><a href="contact_us_animated.html">Contact</a></li>
                    <li><a href="/book_animated.html">Book Now</a></li>
                </ul>
                <div class="social-links">
                    <a href="https://www.facebook.com/people/Mind-The-Barbers/100070150066840/"><i class="fab fa-facebook"></i></a>
                    <a href="https://www.instagram.com/mind_the_barbers?igsh=MW91N25odnU3ZDlwaA=="><i class="fab fa-instagram"></i></a>
                    <!-- <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a> -->
                </div>
                <p class="copyright">© 2025 Mind The Barbers. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Variables to store booking information
        let selectedBarber = null;
        let selectedDate = null;
        let selectedTime = null;
        let selectedServices = [];
        let totalPrice = 0;

        // Barber selection
        const barberCards = document.querySelectorAll('.barber-card');
        barberCards.forEach(card => {
            card.addEventListener('click', function() {
                // Remove selected class from all cards
                barberCards.forEach(c => c.classList.remove('selected'));
                // Add selected class to clicked card
                this.classList.add('selected');
                // Store selected barber
                selectedBarber = this.getAttribute('data-barber');
                // Enable next button
                document.getElementById("next-1").disabled = false;
            });
        });

        // Service selection
        const serviceItems = document.querySelectorAll('.service-item');
        serviceItems.forEach(item => {
            item.addEventListener('click', function() {
                this.classList.toggle('selected');
                
                const service = this.getAttribute('data-service');
                const price = parseInt(this.getAttribute('data-price'));
                
                if (this.classList.contains('selected')) {
                    // Add service to selected services
                    selectedServices.push({
                        name: this.querySelector('h3').textContent,
                        price: price
                    });
                } else {
                    // Remove service from selected services
                    selectedServices = selectedServices.filter(s => s.name !== this.querySelector('h3').textContent);
                }
                
                // Calculate total price
                totalPrice = selectedServices.reduce((total, service) => total + service.price, 0);
                
                // Enable/disable next button based on selections
                document.getElementById("next-3").disabled = !(selectedServices.length > 0);
            });
        });

        // Calendar functionality
        // document.addEventListener('DOMContentLoaded', function() {
        //     // Mobile menu functionality
        //     const mobileToggle = document.getElementById('mobileToggle');
        //     const mobileMenu = document.getElementById('mobileMenu');
        //     const hamburger = document.querySelector('.hamburger');
        //     const overlay = document.getElementById('overlay');

        //     mobileToggle.addEventListener('click', function() {
        //         mobileMenu.classList.toggle('open');
        //         hamburger.classList.toggle('open');
        //         overlay.classList.toggle('active');
        //         document.body.style.overflow = mobileMenu.classList.contains('open') ? 'hidden' : '';
        //     });

        //     overlay.addEventListener('click', function() {
        //         mobileMenu.classList.remove('open');
        //         hamburger.classList.remove('open');
        //         overlay.classList.remove('active');
        //         document.body.style.overflow = '';
        //     });

        //     // Close mobile menu when clicking on a link
        //     const mobileMenuLinks = document.querySelectorAll('.mobile-menu-links a');
        //     mobileMenuLinks.forEach(link => {
        //         link.addEventListener('click', function() {
        //             mobileMenu.classList.remove('open');
        //             hamburger.classList.remove('open');
        //             overlay.classList.remove('active');
        //             document.body.style.overflow = '';
        //         });
        //     });

        //     // Random floating scissors
        //     for (let i = 0; i < 3; i++) {
        //         const scissors = document.createElement('i');
        //         scissors.className = 'fas fa-cut scissors';
        //         scissors.style.top = Math.random() * 100 + '%';
        //         scissors.style.left = Math.random() * 100 + '%';
        //         scissors.style.fontSize = (Math.random() * 10 + 15) + 'px';
        //         scissors.style.animationDuration = (Math.random() * 10 + 10) + 's';
        //         scissors.style.animationDelay = (Math.random() * 5) + 's';
        //         document.body.appendChild(scissors);
        //     }
        //     // Get elements
        //     const calendarEl = document.getElementById('calendar');
        //     const monthYearEl = document.getElementById('month-year');
        //     const prevMonthBtn = document.getElementById('prev-month');
        //     const nextMonthBtn = document.getElementById('next-month');
        //     const selectedDateEl = document.getElementById('selected-date');
        //     const slotsGridEl = document.getElementById('slots-grid');
            
        //     // Set up current date
        //     let currentDate = new Date();
        //     let currentMonth = currentDate.getMonth();
        //     let currentYear = currentDate.getFullYear();
            
        //     // Generate calendar
        //     function generateCalendar(month, year) {
        //         // Clear previous days except header
        //         const dayHeaders = Array.from(calendarEl.querySelectorAll('.day-name'));
        //         calendarEl.innerHTML = '';
        //         dayHeaders.forEach(header => calendarEl.appendChild(header));
                
        //         // Get first day of month and total days
        //         const firstDay = new Date(year, month, 1).getDay();
        //         const daysInMonth = new Date(year, month + 1, 0).getDate();
                
        //         // Update month/year display
        //         const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 
        //         'July', 'August', 'September', 'October', 'November', 'December'];
        //         monthYearEl.textContent = `${monthNames[month]} ${year}`;
                
        //         // Add empty spaces for days before first day of month
        //         for (let i = 0; i < firstDay; i++) {
        //             const emptyDay = document.createElement('div');
        //             emptyDay.className = 'day inactive';
        //             calendarEl.appendChild(emptyDay);
        //         }
                
        //         // Add days of the month
        //         const today = new Date();
        //         const isCurrentMonth = today.getMonth() === month && today.getFullYear() === year;
                
        //         for (let day = 1; day <= daysInMonth; day++) {
        //             const dayEl = document.createElement('div');
        //             dayEl.className = 'day';
        //             dayEl.textContent = day;
                    
        //             // Check if day is in the past
        //             const thisDate = new Date(year, month, day);
        //             if (thisDate < new Date(today.getFullYear(), today.getMonth(), today.getDate()) || thisDate.getDay() == 0 || thisDate.getDay() == 1) {
        //                 dayEl.classList.add('inactive');
        //             } else {
        //                 // Add click event for valid days
        //                 dayEl.addEventListener('click', function() {
        //                     // Remove selected class from previous selection
        //                     document.querySelectorAll('.day.selected').forEach(el => {
        //                         el.classList.remove('selected');
        //                     });
                            
        //                     // Add selected class to this day
        //                     dayEl.classList.add('selected');
                            
        //                     // Store selected date
        //                     const dateStr = `${monthNames[month]} ${day}, ${year}`;
        //                     selectedDate = dateStr;
        //                     selectedDateEl.textContent = dateStr;

        //                     // scroll to the time pick
        //                     go_to_container_id("selected-date");
                            
        //                     // Generate time slots
        //                     generateTimeSlots(day, month, year);
                            
        //                     // Enable next button
        //                     document.getElementById("next-2").disabled = !selectedTime;
        //                 });
        //             }
                    
        //             calendarEl.appendChild(dayEl);
        //         }
        //     }
            
        //     // Generate time slots for selected date
        //     function generateTimeSlots(day, month, year) {
        //         // Clear previous slots
        //         slotsGridEl.innerHTML = '';
                
        //         // Define time slots (9AM to 6PM, 30 min intervals)
        //         //get the name of the day of the selected date
        //         const dayName = new Date(selectedDate).toLocaleString('en-us', {weekday: 'long'});
        //         var startHour = 10;
        //         var endHour = 20;
        //         if (dayName == "Saturday") {
        //             startHour = 9;
        //             endHour = 17;
        //         }
                
        //         // Generate mock available/booked slots based on date
        //         // In a real app, this would come from a database
        //         const bookedSlots = generateMockBookedSlots(day);
                
        //         for (let hour = startHour; hour < endHour; hour++) {
        //             for (let minutes of ['00', '30']) {
        //                 // Format time
        //                 const hourDisplay = hour > 12 ? hour - 12 : hour;
        //                 const ampm = hour >= 12 ? 'PM' : 'AM';
        //                 const timeString = `${hourDisplay}:${minutes} ${ampm}`;
                        
        //                 // Create time slot element
        //                 const slotEl = document.createElement('div');
        //                 slotEl.className = 'time-slot';
        //                 slotEl.textContent = timeString;
                        
        //                 // Check if slot is booked
        //                 const timeValue = `${hour}:${minutes}`;
        //                 if (bookedSlots.includes(timeValue)) {
        //                     slotEl.classList.add('booked');
        //                 } else {
        //                     // Add click event for booking
        //                     slotEl.addEventListener('click', function() {
        //                         // Remove selected class from all time slots
        //                         document.querySelectorAll('.time-slot.selected').forEach(el => {
        //                             el.classList.remove('selected');
        //                         });
                                
        //                         // Add selected class to this slot
        //                         slotEl.classList.add('selected');
                                
        //                         // Store selected time
        //                         selectedTime = timeString;
                                
        //                         // Log the selected time
        //                         // console.log("Selected time:", timeString);
                                
        //                         // Enable next button if services are also selected
        //                         document.getElementById("next-2").disabled = !timeString;
        //                     });
        //                 }
                        
        //                 slotsGridEl.appendChild(slotEl);
        //             }
        //         }
        //     }
            
        //     // Generate random booked slots for demo purposes
        //     function generateMockBookedSlots(day) {
        //         const bookedSlots = [];
        //         // console.log(auth);
        //         // Use day as seed for pseudo-random generation
        //         const numBookings = (day % 5) + 2; // 2-6 bookings per day
                
        //         for (let i = 0; i < numBookings; i++) {
        //             const hour = Math.floor(Math.random() * 9) + 9; // 9AM to 5PM
        //             const minute = Math.random() < 0.5 ? '00' : '30';
        //             bookedSlots.push(`${hour}:${minute}`);
        //         }
                
        //         return bookedSlots;
        //     }
            
        //     // Month navigation
        //     prevMonthBtn.addEventListener('click', function() {
        //         currentMonth--;
        //         if (currentMonth < 0) {
        //             currentMonth = 11;
        //             currentYear--;
        //         }
        //         generateCalendar(currentMonth, currentYear);
        //     });
            
        //     nextMonthBtn.addEventListener('click', function() {
        //         currentMonth++;
        //         if (currentMonth > 11) {
        //             currentMonth = 0;
        //             currentYear++;
        //         }
        //         generateCalendar(currentMonth, currentYear);
        //     });
            
        //     // Initialize calendar
        //     generateCalendar(currentMonth, currentYear);
        // });

        function go_to_container_id(container_id) {
            document.getElementById(container_id).scrollIntoView({
                behavior: "smooth", // For smooth scrolling animation
                block: "start"      // Align top of the container with the top of viewport
            });
        }

        // Navigation between steps
        document.getElementById("next-1").addEventListener('click', function() {
            go_to_container_id("container-id");
            goToStep(2);
        });

        document.getElementById("prev-2").addEventListener('click', function() {
            go_to_container_id("container-id");
            goToStep(1);
        });

        document.getElementById("next-2").addEventListener('click', function() {
            go_to_container_id("container-id");
            goToStep(3);
        });

        document.getElementById("prev-3").addEventListener('click', function() {
            go_to_container_id("container-id");
            goToStep(2);
        });

        // this is happening now in auth_stuff.js because we need to take the email and name from the logged in user
        // document.getElementById("next-3").addEventListener('click', function() {
        //     go_to_container_id("container-id");
        //     // Update summary
        //     updateSummary();
        //     goToStep(4);
        // });

        document.getElementById("prev-4").addEventListener('click', function() {
            go_to_container_id("container-id");
            goToStep(3);
        });

        // document.getElementById("confirm-booking").addEventListener('click', function() {
        //     go_to_container_id("container-id");
        //     // Validate form
        //     const name = document.getElementById("name").value;
        //     const email = document.getElementById("email").value;
        //     const phone = document.getElementById("phone").value;
            
        //     if (!name || !email || !phone) {
        //         alert("Please fill in all required fields.");
        //         return;
        //     }


        //     // Save booking
        //     // const bookedApp = await window.saveBooking(name, email, phone, selectedBarber, selectedDate, selectedTime, selectedServices, totalPrice);

        //     // window.saveBooking(name, email, phone, selectedBarber, selectedDate, selectedTime, selectedServices)
        //     // .then(bookedApp => {
        //     //     // Success case
        //     //     goToSuccess();
        //     //     // Additional success actions if needed
        //     //     console.log("Booked!!");
        //     // })
        //     // .catch(error => {
        //     //     // Error case
        //     //     // alert("Booking failed: " + error.message);
        //     //     goToFail();
        //     //     console.error("Error details:", error);
        //     // });
        //     // Check if user is logged in
        //     firebase.auth().onAuthStateChanged((user) => {
        //         if (!user) {
        //             // User is not signed in, redirect to login page
        //             window.location.href = '/sign_up.html';
        //         } else {
        //             // User is signed in, you can update UI elements here if needed
        //             db.collection("userActivities").add({
        //                 uid: user.uid,
        //                 name,
        //                 email,
        //                 phone,
        //                 barber: selectedBarber,
        //                 date: selectedDate,
        //                 time: selectedTime,
        //                 services: selectedServices.map(s => s.name)
        //             })
        //             .then(() => {
        //                 goToSuccess();
        //             })
        //             .catch((error) => {
        //             console.error("Error during database operations: ", error);
        //             goToFail();
        //             });
                    
        //             // window.location.href = '/sign_up.html';
                    
        //             // Optional: Display user info somewhere on the page
        //             // const userDisplayName = document.getElementById('userDisplayName');
        //             // if (userDisplayName) userDisplayName.textContent = user.displayName;
        //         }
        //     });
        // });

        // Function to navigate between steps
        function goToStep(step) {
            // Hide all sections
            document.querySelectorAll('.booking-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(`section-${step}`).classList.add('active');
            
            // Update steps
            document.querySelectorAll('.step').forEach(s => {
                s.classList.remove('active', 'completed');
            });

            // if (step === 4) {
            //     firebase.auth().onAuthStateChanged(function(user) {
            //     if (user) {
            //         // User is signed in, get their email
            //         const userEmail = user.email;
            //         const userName = user.displayName || '';
                    
            //         // Set the value of the email input field
            //         document.getElementById('email').value = userEmail;
            //         document.getElementById('email').disabled = true;
            //         document.getElementById('name').value = userName;
            //         document.getElementById('name').disabled = true;
                    
            //         // Optionally, you can disable the field if you don't want users to change it
            //         // document.getElementById('email').disabled = true;
            //     } else {
            //         // User is not signed in
            //         document.getElementById('email').value = '';
            //         document.getElementById('name').value = '';
            //     }
            //     });
            // }
            
            // Mark current step as active and previous steps as completed
            for (let i = 1; i <= 4; i++) {
                const stepElement = document.getElementById(`step-${i}`);
                if (i < step) {
                    stepElement.classList.add('completed');
                } else if (i === step) {
                    stepElement.classList.add('active');
                }
            }
        }

        // Function to show success message
        function goToSuccess() {
            document.querySelectorAll('.booking-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('section-success').classList.add('active');
        }
        // Function to show fail message
        function goToFail() {
            document.querySelectorAll('.booking-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById('section-error').style.display = 'block';
        }

        function showErrorPopup(message) {
            document.getElementById('errorMessage').textContent = message;
            document.getElementById('errorPopup').classList.add('active');
            
            // Add shake animation
            const popup = document.querySelector('.popup');
            popup.classList.add('shake');
            
            // Remove shake class after animation completes
            setTimeout(() => {
                popup.classList.remove('shake');
            }, 500);
        }
        
        function closeErrorPopup() {
            document.getElementById('errorPopup').classList.remove('active');
        }

        // Function to update summary
        function updateSummary() {
            // Find barber name
            const barberElement = document.querySelector('.barber-card.selected .barber-info h3');
            const barberName = barberElement ? barberElement.textContent : '-';
            
            // Update summary elements
            document.getElementById('summary-barber').textContent = barberName;
            document.getElementById('summary-date').textContent = selectedDate || '-';
            document.getElementById('summary-time').textContent = selectedTime || '-';
            
            // Update services
            const servicesElement = document.getElementById('summary-services');
            if (selectedServices.length > 0) {
                servicesElement.innerHTML = selectedServices.map(service => 
                    `${service.name} - ${service.price}€`
                    // `${service.name}`
                ).join('<br>');
            } else {
                servicesElement.textContent = '-';
            }
            
            // Update total
            document.getElementById('summary-total').textContent = `${totalPrice}€`;
        }
    </script>
</body>
</html>